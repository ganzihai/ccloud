<VirtualHost *:80>
    ServerAdmin webmaster@localhost
    DocumentRoot /var/www/html/maccms
    
    # 日志配置
    ErrorLog /var/www/html/logs/apache_error.log
    CustomLog /var/www/html/logs/apache_access.log combined
    
    # Maccms 目录配置
    <Directory /var/www/html/maccms>
        Options Indexes FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>
    
    # 设置默认字符集
    AddDefaultCharset UTF-8
    
    # 设置 PHP 处理
    <FilesMatch \.php$>
        SetHandler application/x-httpd-php
    </FilesMatch>
    
    # 特殊处理 ganzi.php 路径
    <LocationMatch "^/ganzi\.php(/.*)?$">
        RewriteEngine On
        RewriteCond %{REQUEST_URI} ^/ganzi\.php(/.*)?$
        RewriteRule ^/ganzi\.php(/.*)?$ /ganzi.php [L,QSA]
    </LocationMatch>
</VirtualHost> 
